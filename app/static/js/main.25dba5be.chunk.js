(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{159:function(e,t,a){},161:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(19),i=a.n(r),c=(a(70),a(53)),l=a(54),s=a(63),m=a(55),u=a(64),d=a(56),f=a.n(d),h=a(10),p=a(61),g=a.n(p),b=a(57),w=a.n(b);var v=Object(h.withStyles)(function(e){return{root:{color:e.palette.common.white}}})(function(e){return o.a.createElement(w.a,Object.assign({elevation:0,position:"static"},e))}),E=a(59),k=a(60),y=a.n(k);var N=Object(h.withStyles)(function(e){return{root:Object(E.a)({height:64},e.breakpoints.up("sm"),{height:70})}})(function(e){return o.a.createElement(y.a,e)});var x=Object(h.withStyles)(function(e){return{title:{fontSize:24},toolbar:{justifyContent:"space-between",backgroundColor:"#500000"},left:{flex:1},leftLinkActive:{color:e.palette.common.white},right:{flex:1,display:"flex",justifyContent:"flex-end"},rightLink:{fontSize:16,color:e.palette.common.white,marginLeft:3*e.spacing.unit,cursor:"pointer"}}})(function(e){var t=e.classes,a=null;switch(e.emotion){case"angry":a=o.a.createElement("i",{className:"em em-angry"});break;case"disgust":a=o.a.createElement("i",{className:"em em-nauseated_face"});break;case"fear":a=o.a.createElement("i",{className:"em em-fearful"});break;case"happy":a=o.a.createElement("i",{className:"em em-smile"});break;case"sad":a=o.a.createElement("i",{className:"em em-cry"});break;case"surprise":a=o.a.createElement("i",{className:"em em-astonished"});break;case"neutral":a=o.a.createElement("i",{className:"em em-no_mouth"});break;default:a=o.a.createElement("i",{className:"em em-thinking_face"})}return o.a.createElement("div",null,o.a.createElement(v,{position:"fixed"},o.a.createElement(N,{className:t.toolbar},o.a.createElement("div",{className:t.left}),o.a.createElement(g.a,{variant:"h6",underline:"none",color:"inherit",className:t.title},"Emotion Recognition"),o.a.createElement("div",{className:t.right},a))),o.a.createElement("div",{className:t.placeholder}))}),S=a(34),j=a.n(S);var C=Object(h.withStyles)(function(e){return{title:{fontSize:24},toolbar:{justifyContent:"space-between",backgroundColor:"#500000"},left:{flex:1},leftLinkActive:{color:e.palette.common.white},right:{flex:1,display:"flex",justifyContent:"flex-end"},rightLink:{fontSize:16,color:e.palette.common.white,marginLeft:3*e.spacing.unit,cursor:"pointer",backgroundColor:e.palette.primary.main},footer:{bottom:0,backgroundColor:"#8CB5CF"}}})(function(e){var t=e.classes;return o.a.createElement("div",null,o.a.createElement("div",{position:"fixed",className:t.footer},o.a.createElement(N,{className:t.toolbar},o.a.createElement("div",{className:t.left}),o.a.createElement(j.a,{className:t.rightLink,onClick:e.predict},e.text),o.a.createElement("div",{className:t.right}))),o.a.createElement("div",{className:t.placeholder}))}),O=a(62),A=a.n(O);a(159);var L=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={data:null,refresh:!1,answerReady:!1,loading:!1,buttonText:"Start Recording"},a.setRef=function(e){a.webcam=e},a.capture=function(){var e=a.webcam.getScreenshot();a.callBackendAPI(e).then(function(e){a.setState({emotion:e}),console.log(e),a.state.loading&&a.capture()}).catch(function(e){console.log(e),a.state.loading&&a.capture()})},a.buttonPress=function(){!1===a.state.loading?(a.setState({loading:!0,buttonText:"Stop Recording"}),a.capture()):a.setState({loading:!1,buttonText:"Start Recording"})},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){!0===this.state.loading&&this.capture()}},{key:"callBackendAPI",value:function(e){return new Promise(function(t,a){var n=function(e){var t;t=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):unescape(e.split(",")[1]);for(var a=e.split(",")[0].split(":")[1].split(";")[0],n=new Uint8Array(t.length),o=0;o<t.length;o++)n[o]=t.charCodeAt(o);return new Blob([n],{type:a})}(e),o=new XMLHttpRequest;o.open("POST","https://facezam.onrender.com/analyze",!0),o.onerror=function(){a(o.responseText)},o.onload=function(e){if(4===this.readyState){var a=JSON.parse(e.target.responseText);t("".concat(a.result))}};var r=new FormData;r.append("file",n),o.send(r)})}},{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement(x,{emotion:this.state.emotion}),o.a.createElement(f.a,{audio:!1,height:window.innerHeight-70,ref:this.setRef,screenshotFormat:"image/jpeg",width:window.innerWidth,videoConstraints:{width:1280,height:720,facingMode:"user"}}),this.state.loading?o.a.createElement(A.a,null):"",o.a.createElement(C,{predict:this.buttonPress.bind(this),text:this.state.buttonText}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},65:function(e,t,a){e.exports=a(161)},70:function(e,t,a){}},[[65,1,2]]]);
//# sourceMappingURL=main.25dba5be.chunk.js.map