(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{159:function(e,t,n){},161:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(19),i=n.n(r),c=(n(70),n(53)),l=n(54),s=n(63),u=n(55),d=n(64),m=n(56),f=n.n(m),p=n(10),h=n(61),w=n.n(h),g=n(57),v=n.n(g);var b=Object(p.withStyles)(function(e){return{root:{color:e.palette.common.white}}})(function(e){return o.a.createElement(v.a,Object.assign({elevation:0,position:"static"},e))}),y=n(59),E=n(60),j=n.n(E);var k=Object(p.withStyles)(function(e){return{root:Object(y.a)({height:64},e.breakpoints.up("sm"),{height:70})}})(function(e){return o.a.createElement(j.a,e)});var O=Object(p.withStyles)(function(e){return{title:{fontSize:24},toolbar:{justifyContent:"space-between"},left:{flex:1},leftLinkActive:{color:e.palette.common.white},right:{flex:1,display:"flex",justifyContent:"flex-end"},rightLink:{fontSize:16,color:e.palette.common.white,marginLeft:3*e.spacing.unit,cursor:"pointer"}}})(function(e){var t=e.classes;return o.a.createElement("div",null,o.a.createElement(b,{position:"fixed"},o.a.createElement(k,{className:t.toolbar},o.a.createElement("div",{className:t.left}),o.a.createElement(w.a,{variant:"h6",underline:"none",color:"inherit",className:t.title},"Emotion Recognition"),o.a.createElement("div",{className:t.right}))),o.a.createElement("div",{className:t.placeholder}))}),x=n(27),S=n.n(x);var N=Object(p.withStyles)(function(e){return{title:{fontSize:24},toolbar:{justifyContent:"space-between"},left:{flex:1},leftLinkActive:{color:e.palette.common.white},right:{flex:1,display:"flex",justifyContent:"flex-end"},rightLink:{fontSize:16,color:e.palette.common.white,marginLeft:3*e.spacing.unit,cursor:"pointer",backgroundColor:e.palette.primary.main},footer:{bottom:0,backgroundColor:e.palette.primary.light}}})(function(e){var t=e.classes;return o.a.createElement("div",null,o.a.createElement("div",{position:"fixed",className:t.footer},o.a.createElement(k,{className:t.toolbar},o.a.createElement("div",{className:t.left}),o.a.createElement(S.a,{className:t.rightLink,onClick:e.predict},"Predict Emotion"),o.a.createElement("div",{className:t.right}))),o.a.createElement("div",{className:t.placeholder}))}),L=n(62),C=n.n(L);n(159);var R=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={data:null,refresh:!1,answerReady:!1},n.setRef=function(e){n.webcam=e},n.capture=function(){n.setState({loading:!0});var e=n.webcam.getScreenshot();n.callBackendAPI(e).then(function(e){n.setState({data:e,answerReady:!0,loading:!1})}).catch(function(e){return console.log(e)})},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"callBackendAPI",value:function(e){return new Promise(function(t,n){var a=function(e){var t;t=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):unescape(e.split(",")[1]);for(var n=e.split(",")[0].split(":")[1].split(";")[0],a=new Uint8Array(t.length),o=0;o<t.length;o++)a[o]=t.charCodeAt(o);return console.log(a),new Blob([a],{type:n})}(e),o=new XMLHttpRequest,r=window.location,i=document.createElement("a");document.body.appendChild(i),i.style="display: none";var c=window.URL.createObjectURL(a);i.href=c,i.download="download.jpeg",i.click(),window.URL.revokeObjectURL(c),o.open("POST","".concat(r.protocol,"//").concat(r.hostname,":").concat(r.port,"/analyze"),!0),o.onerror=function(){n(o.responseText)},o.onload=function(e){if(4===this.readyState){var n=JSON.parse(e.target.responseText);t("Result = ".concat(n.result))}};var l=new FormData;l.append("file",a),o.send(l)})}},{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement(O,null),o.a.createElement(f.a,{audio:!1,height:window.innerHeight-70,ref:this.setRef,screenshotFormat:"image/jpeg",width:window.innerWidth,videoConstraints:{width:1280,height:720,facingMode:"user"}}),this.state.loading?o.a.createElement(C.a,null):"",o.a.createElement(N,{predict:this.capture.bind(this)}))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(R,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},65:function(e,t,n){e.exports=n(161)},70:function(e,t,n){}},[[65,1,2]]]);
//# sourceMappingURL=main.fed86bee.chunk.js.map